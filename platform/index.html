<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lab Cyber ‚Äì Plateforme d'apprentissage</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="app">
    <aside class="sidebar">
      <div class="sidebar-header">
        <h1 class="logo">Lab Cyber</h1>
        <p class="tagline">Sc√©narios guid√©s ¬∑ Style TryHackMe / HackTheBox</p>
      </div>
      <nav class="nav">
        <button class="nav-item active" data-view="dashboard">
          <span class="nav-icon">‚óÜ</span>
          <span>Accueil</span>
        </button>
        <a class="nav-item" id="nav-terminal" href="#" target="_blank" rel="noopener" title="Ouvrir le terminal du lab (poste attaquant)">
          <span class="nav-icon">‚å®</span>
          <span>Terminal lab</span>
        </a>
        <button class="nav-item" data-view="docs" type="button" title="Documentation du projet">
          <span class="nav-icon">üìö</span>
          <span>Documentation</span>
        </button>
        <div class="nav-section">Sc√©narios guid√©s</div>
        <div id="nav-scenarios"></div>
        <div class="nav-section">Rooms par cat√©gorie</div>
        <div id="nav-rooms"></div>
      </nav>
      <div class="sidebar-footer">
        <span>Usage √©ducatif uniquement</span>
      </div>
    </aside>
    <main class="main">
      <!-- Dashboard -->
      <div id="view-dashboard" class="view active">
        <header class="page-header">
          <h2>Bienvenue sur le Lab Cyber</h2>
          <p>Suis des <strong>sc√©narios guid√©s</strong> pas √† pas (comme sur TryHackMe / HackTheBox) : objectifs concrets, commandes √† lancer, ce que tu apprends √† chaque √©tape. Tu peux aussi explorer les <strong>rooms</strong> par cat√©gorie. <strong>Un seul port</strong> pour tout le lab (gateway).</p>
        </header>
        <section class="dashboard-section" id="dashboard-mypost">
          <h3 class="section-title">Mon poste (lab)</h3>
          <p class="section-desc">Terminal web = conteneur attaquant. En ligne de commande : <code>make shell</code> ou <code>docker compose exec attaquant bash</code>.</p>
          <div class="dashboard-grid" id="dashboard-terminal-cards"></div>
        </section>
        <section class="dashboard-section">
          <h3 class="section-title">Sc√©narios guid√©s</h3>
          <p class="section-desc">Parcours pas √† pas avec t√¢ches, commandes et apprentissages concrets.</p>
          <div class="dashboard-grid" id="dashboard-scenarios"></div>
        </section>
        <section class="dashboard-section">
          <h3 class="section-title">Rooms</h3>
          <p class="section-desc">Par th√®me : Web, R√©seau, API, Red/Blue Team, St√©gano, Crypto, Phishing‚Ä¶</p>
          <div class="dashboard-grid" id="dashboard-cards"></div>
        </section>
        <section class="dashboard-section">
          <h3 class="section-title">Documentation et tests</h3>
          <p class="section-desc">Toute la doc du projet (d√©marrage, usage, tests, cat√©gories). Voir aussi le <strong>Terminal lab</strong> pour ex√©cuter les attaques depuis le navigateur.</p>
          <div class="dashboard-grid" id="dashboard-docs-cards"></div>
        </section>
      </div>
      <!-- Documentation (liste des docs) -->
      <div id="view-docs" class="view">
        <header class="page-header">
          <h2 id="docs-title">Documentation du projet</h2>
          <p id="docs-description" class="room-description">Chargement‚Ä¶</p>
        </header>
        <section class="room-section">
          <h3>Fichiers de documentation</h3>
          <ul id="docs-list" class="docs-list"></ul>
        </section>
        <section class="room-section">
          <h3>Tests du syst√®me</h3>
          <p>Pour lancer tous les tests depuis le terminal : <code>./lab test</code> ou <code>make test</code>. Voir <a href="/docs/TESTS.md" target="_blank" rel="noopener">TESTS.md</a> pour la matrice compl√®te.</p>
          <p><a href="/test-logs.html" target="_blank" rel="noopener">Page de test du logger</a> (journal d'activit√©).</p>
        </section>
      </div>
      <!-- Scenario view (THM/HTB style) -->
      <div id="view-scenario" class="view">
        <header class="page-header scenario-header">
          <div class="room-meta">
            <span id="scenario-difficulty" class="difficulty-badge"></span>
            <span id="scenario-time" class="time-badge"></span>
          </div>
          <h2 id="scenario-title"></h2>
          <p id="scenario-description" class="room-description"></p>
        </header>
        <section class="room-section machines-section">
          <h3>D√©ployer / Acc√©der aux cibles</h3>
          <div id="scenario-machines" class="machine-cards"></div>
        </section>
        <section class="room-section">
          <h3>T√¢ches</h3>
          <div id="scenario-tasks" class="tasks-list scenario-tasks"></div>
        </section>
      </div>
      <!-- Room view (existing) -->
      <div id="view-room" class="view">
        <header class="page-header room-header">
          <div class="room-meta">
            <span id="room-category-badge" class="badge"></span>
            <span id="room-difficulty" class="difficulty"></span>
          </div>
          <h2 id="room-title"></h2>
          <p id="room-description" class="room-description"></p>
        </header>
        <section class="room-section">
          <h3>Objectifs</h3>
          <ul id="room-objectives"></ul>
        </section>
        <section id="room-challenges-section" class="room-section challenges-section" hidden>
          <h3>T√©l√©charger les d√©fis</h3>
          <p class="hint">T√©l√©charge les fichiers puis travaille depuis le conteneur attaquant.</p>
          <div id="room-challenge-downloads" class="machine-cards"></div>
        </section>
        <section class="room-section machines-section">
          <h3>Acc√©der aux machines</h3>
          <div id="room-machines" class="machine-cards"></div>
        </section>
        <section class="room-section">
          <h3>T√¢ches</h3>
          <div id="room-tasks" class="tasks-list"></div>
        </section>
      </div>
    </main>
    <!-- Journal d'activit√© / Logs (r√©utilisable partout) -->
    <aside class="log-panel" id="log-panel">
      <div class="log-panel-header">
        <h3>Journal d'activit√©</h3>
        <div class="log-panel-actions">
          <button type="button" id="log-export-json" title="Exporter en JSON">Export JSON</button>
          <button type="button" id="log-export-txt" title="Exporter en texte">Export TXT</button>
          <button type="button" id="log-clear" title="Effacer les logs">Effacer</button>
          <button type="button" id="log-panel-toggle" title="R√©duire / agrandir">‚àí</button>
        </div>
      </div>
      <div class="log-panel-body">
        <ul id="log-entries"></ul>
      </div>
    </aside>
  </div>
  <script src="js/logger.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
